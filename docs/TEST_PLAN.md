# 업무일정 관리 시스템 - 종합 점검계획

**서버 URL**: `https://1.215.38.118`
**최종 업데이트**: 2026-02-10

---

## 점검 결과 요약

| 단계 | 항목 | 결과 | 비고 |
|------|------|------|------|
| 1 | 서버 접속 | PASS | HTTPS 정상, 다크모드 기본 |
| 2 | 인증 기능 (로그인/회원가입/승인) | **PASS** | 회원가입→승인대기→로그인차단→관리자승인→로그인성공 워크플로우 정상 |
| 3 | 캘린더 & 기본 UI | PASS | 월이동, 날짜선택, TODAY 버튼 정상 |
| 4 | 단일 일정 CRUD | PASS | 생성/조회/수정/완료/완료취소/삭제 + 반복 변환 |
| 5 | 반복 일정 | **PASS** | DB 마이그레이션 후 생성/수정/삭제/완료 모두 정상 |
| 6 | 일정 공유 | **PASS** | 드롭다운 20개 처/실 표시, 다중선택, 상세 공유표시, 타처 조회 정상 |
| 7 | 알림 기능 | **PASS** | DB 마이그레이션 후 벨/목록/읽음/필터 모두 정상 |
| 8 | 일정 목록 필터 | **PASS** | 전체/진행중/완료/지연 필터 + 날짜선택/전체보기 전환 정상 |
| 9 | 관리자 기능 (사용자 승인 포함) | **PASS** | 사용자 승인/상태필터/알림 정상 (9A-2,5,7,8,9 점검) |
| 10 | 권한별 접근 제어 | **PASS** | USER 제한조회, 타인일정 읽기전용, ADMIN 전체조회/수정, 미인증 401 |
| 11 | 반응형 & UI/UX | **PASS** | 다크모드 일관성, 모바일/태블릿 반응형, 모달 닫기, 중복클릭 방지, 모바일 오버플로우 수정 |
| 12 | 내 정보 수정 (프로필) | **PASS** | 이름/직급/소속 변경, 비밀번호 변경/유효성검증 모두 정상 |
| 13 | 캘린더 그리드 레인 시스템 | **PASS** | 유연 레인 배치: 멀티데이 우선 → 빈 레인에 단일 일정 표시 |
| 14 | Rate Limiting & 입력 검증 | - | 로그인/인증/일정 3단계 Rate Limit + 프론트엔드 검증 |
| 15 | 댓글 기능 | - | 백엔드 CRUD+조회+알림 완성, 프론트엔드 UI 구현 (인라인 섹션) |
| 16 | 부하 테스트 (Artillery) | - | 4개 시나리오 (로그인/조회/CRUD/알림) |
| 17 | UI 애니메이션 | - | 모달 닫기 슬라이드, PC 캘린더 월 이동 슬라이드 |
| 18 | 알림 수신자 설정 | - | 다중 선택 UI, 상위관리자 직급별 분리, 공유 일정 알림 |

---

## 1단계: 서버 상태 확인

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 1-1 | HTTPS 접속 | `https://1.215.38.118` 접속 | 로그인 페이지 또는 캘린더 표시 | |
| 1-2 | HTTP 리다이렉트 | `http://1.215.38.118:8080` 접속 | HTTPS로 리다이렉트 | |
| 1-3 | 백엔드 Health | `curl https://1.215.38.118/api/v1/health` | `{"success": true}` 응답 | |

---

## 2단계: 인증 기능

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 2-1 | 관리자 로그인 | `admin@admin.com` / `admin1234` 로그인 | 로그인 성공, 캘린더 표시, 관리자 아이콘 표시 | |
| 2-2 | 로그아웃 | 헤더 로그아웃 버튼 클릭 | 로그인 페이지로 이동 | |
| 2-3 | 회원가입 | "회원가입" 링크 → 테스트 계정 생성 | 가입 완료 화면: 체크 아이콘 + "관리자 승인 후 로그인 가능" 메시지 (자동 로그인 안 됨) | PASS |
| 2-4 | 조직 선택 연동 | 회원가입 시 본부→처→부서 순차 선택 | 계층형 드롭다운 연동 동작 | PASS |
| 2-5 | 비밀번호 유효성 | 8자 미만 / 영문만 / 숫자만 비밀번호로 가입 시도 | 오류 메시지 표시 | - |
| 2-6 | 비밀번호 확인 | 비밀번호 != 비밀번호 확인 상태에서 가입 시도 | 불일치 표시, 가입 불가 | - |
| 2-7 | 중복 이메일 | 이미 존재하는 이메일로 가입 시도 | DUPLICATE_EMAIL 에러 | - |
| 2-8 | 미승인 계정 로그인 차단 | 가입 직후 (관리자 승인 전) 로그인 시도 | 403 AUTH_006: "관리자 승인 후 로그인이 가능합니다." | PASS |
| 2-9 | 비활성화 계정 로그인 차단 | 관리자가 비활성화한 계정으로 로그인 시도 | 403 AUTH_007: "계정이 비활성화되었습니다." | - |
| 2-10 | 가입 후 로그인 페이지 복귀 | 가입 완료 화면에서 "로그인 페이지로 돌아가기" 클릭 | 로그인 페이지로 정상 이동 | PASS |
| 2-11 | 가입 시 관리자 알림 | 회원가입 후 → 관리자 로그인 → 알림 벨 확인 | USER_REGISTERED 알림: "{이름}님이 회원가입했습니다. 승인이 필요합니다." | PASS |

---

## 3단계: 캘린더 & 기본 UI

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 3-1 | 월간 캘린더 표시 | 로그인 후 메인 화면 확인 | 현재 월 캘린더 그리드, 오늘 하이라이트 | |
| 3-2 | 월 이동 | ◀ / ▶ 버튼 클릭 | 이전/다음 월 전환 | |
| 3-3 | 오늘 버튼 | 다른 월 이동 후 "TODAY" 클릭 | 현재 월 복귀, 오늘 선택 | |
| 3-4 | 날짜 선택 | 특정 날짜 클릭 | 하이라이트, 하단 일정 목록 갱신 | |
| 3-5 | 날짜 더블클릭 | 날짜 더블클릭 | 일정 생성 모달 열림 (해당 날짜 자동 선택) | |
| 3-6 | 다크모드 토글 | 헤더 해/달 아이콘 클릭 | 다크↔라이트 전환, 새로고침 후 유지 | |
| 3-7 | 요일 헤더 표시 | 캘린더 상단 요일 헤더 확인 | 일~토 요일 표시, 개별 셀 음영 + 간격, 토(파랑)/일(빨강) 색상 구분 | |
| 3-8 | 캘린더 헤더 | 캘린더 상단 확인 | 월/년 표시 + ◀▶ + TODAY + "+" 생성 버튼 | |

---

## 4단계: 단일 일정 CRUD

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 4-1 | 일정 생성 | "+" 버튼 → 제목/내용/시작일시/종료일시 입력 → 저장 | 캘린더에 일정 표시 | |
| 4-2 | 일정 조회 | 캘린더에서 일정 클릭 | 상세 모달: 제목, 내용, 일시, 작성자, 상태 표시 | |
| 4-3 | 일정 수정 | 상세 모달 → 수정 → 제목/내용 변경 → 저장 | 변경사항 반영 | |
| 4-4 | 일정 삭제 | 상세 모달 → 삭제 → 확인 | 캘린더에서 제거 | |
| 4-5 | 일정 완료 | 상세 모달 → 완료 버튼 | 상태 DONE, 녹색 표시 | |
| 4-6 | 완료 취소 | 완료된 일정 → 완료취소 버튼 | 상태 PENDING 복귀 | |
| 4-7 | 시간 유효성 | 종료시간 < 시작시간으로 생성 시도 | 오류 메시지 표시 | |
| 4-8 | 단일→반복 변환 | 단일 일정 수정 → "반복 일정" 체크 → 주기/종료일 설정 → 저장 | 기존 단일 일정 삭제 + 반복 일정(event_series) 생성, 캘린더에 반복 표시 | PASS |
| 4-9 | 변환 후 확인 | 변환된 반복 일정 상세 모달 열기 | Repeat 아이콘 + 반복 주기 표시, series-* ID 형태 | PASS |
| 4-10 | 변환 시 알림 | 변환 후 알림 벨 확인 | EVENT_UPDATED 알림: "반복 일정으로 변환되었습니다." | PASS |
| 4-11 | 제목 필수 입력 | 제목 없이 저장 시도 | "제목을 입력해주세요" 에러 | - |
| 4-12 | 일정 상태 색상 | 캘린더에서 일정 바 색상 확인 | PENDING: 파랑, DONE: 초록, 지연: 빨강, 타인 일정: 회색 | - |

---

## 5단계: 반복 일정

### 데이터 흐름 (코드 분석 기반)

```
[생성] EventModal → POST /events (isRecurring=true)
  → event_series 테이블에 INSERT (title, content, recurrence_type, recurrence_interval,
    recurrence_end_date, start_time, end_time, first_occurrence_date, duration_days)
  → event_shared_offices에 공유 처 INSERT (series_id 기준)

[조회] Calendar → GET /events?startDate&endDate
  → generateOccurrencesFromSeries()로 가상 일정 생성
  → 가상 ID: "series-{seriesId}-{occurrenceTimestamp}" (예: series-1-1770076800000)
  → event_exceptions에 등록된 날짜는 제외

[상세] EventDetailModal → GET /events/:id
  → series-* ID: event_series 조회 + occurrence 날짜로 시간 조합
  → 숫자 ID: events 테이블 직접 조회

[수정 - 이번만] PUT /events/series-{id}-{ts} (editType='this')
  → events 테이블에 예외 이벤트 INSERT (is_exception=false, original_series_id=seriesId)
  → event_exceptions에 해당 날짜 INSERT (시리즈에서 제외)
  → 시리즈 공유 처를 예외 이벤트로 복사

[수정 - 전체] PUT /events/series-{id}-{ts} (editType='all')
  → event_series 직접 UPDATE (동적 SET 절)
  → duration_days 재계산
  → 공유 처 DELETE 후 재 INSERT

[삭제 - 이번만] DELETE /events/series-{id}-{ts} (deleteType='single')
  → event_exceptions에 해당 날짜 INSERT만 (시리즈에서 해당일 제외)

[삭제 - 전체] DELETE /events/series-{id}-{ts} (deleteType='series')
  → event_series DELETE (CASCADE로 관련 데이터 자동 삭제)

[완료 - 이번만] POST /events/series-{id}-{ts}/complete (completeType='this')
  → events 테이블에 예외 이벤트 INSERT (status='DONE', is_exception=true, series_id=seriesId)
  → 원래 시리즈에서 해당 날짜는 예외 처리 안 함 (대신 예외 이벤트가 우선 표시)
  → 시리즈 공유 처 복사

[완료 - 전체] POST /events/series-{id}-{ts}/complete (completeType='all')
  → event_series.status = 'DONE', completed_at = NOW()
  → 관련 예외 이벤트도 모두 status = 'DONE'

[완료취소] POST /events/:id/uncomplete
  → 숫자 ID만 지원 (예외 이벤트)
  → events.status = 'PENDING', completed_at = NULL

[단일→반복 변환] PUT /events/:id (isRecurring=true, 숫자 ID)
  → transaction 내에서:
    1) event_series INSERT (title, content, recurrence_type/interval/end_date, start_time, end_time, first_occurrence_date)
    2) 기존 event_shared_offices 삭제 → 시리즈에 재연결
    3) 기존 events 삭제
  → EVENT_UPDATED 알림: "반복 일정으로 변환"
```

### 5-A. 반복 일정 생성

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 5A-1 | 매주 반복 생성 | "+" → 제목/시간 입력 → "반복 일정" 체크 → 주마다/1 → 종료일 → 저장 | 매주 같은 요일에 일정 표시 | PASS |
| 5A-2 | 매일 반복 생성 | 일마다/1 설정 → 저장 | 매일 일정 표시 | - |
| 5A-3 | 매월 반복 생성 | 개월마다/1 설정 → 저장 | 매월 같은 일 표시 | - |
| 5A-4 | 반복 간격 설정 | 주마다/2 설정 → 저장 | 격주로 표시 | - |
| 5A-5 | 다일 반복 생성 | 시작일 2/16, 종료일 2/17 + 매주 반복 → 저장 | duration_days=1, 각 발생이 2일에 걸쳐 표시 | - |
| 5A-6 | 반복 일정 캘린더 표시 | 생성 후 캘린더에서 다음 달로 이동 | 종료일까지 반복 일정 표시 | PASS |
| 5A-7 | 반복 아이콘 표시 | 반복 일정 상세 모달 확인 | Repeat 아이콘 + 반복 주기 설명 표시 | PASS |
| 5A-8 | 반복 종료일 기본값 | 5/14 선택 → "+" → "반복 일정" 체크 → 반복 종료일 확인 | 시작 날짜 +1개월인 2026-06-14로 자동 설정 | - |
| 5A-9 | 다른 날짜 종료일 기본값 | 2/10 선택 → "+" → "반복 일정" 체크 → 반복 종료일 확인 | 시작 날짜 +1개월인 2026-03-10으로 자동 설정 | - |

### 5-B. 반복 일정 수정

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 5B-1 | 수정 다이얼로그 표시 | 반복 일정 클릭 → 수정 버튼 | "이번 일정만 수정" / "전체 반복 일정 수정" 선택 다이얼로그 | PASS |
| 5B-2 | 이번만 수정 - 제목 | "이번만 수정" → 제목 변경 → 저장 | 해당 날짜만 제목 변경, 나머지 원본 유지 | PASS |
| 5B-3 | 이번만 수정 - 시간 | "이번만 수정" → 시간 변경 → 저장 | 해당 날짜만 시간 변경 | - |
| 5B-4 | 이번만 수정 후 모달 | 저장 후 동작 확인 | 모달 닫히고 캘린더 새로고침 (series-* ID → 숫자 ID로 변경) | PASS |
| 5B-5 | 전체 수정 - 제목 | "전체 수정" → 제목 변경 → 저장 | 모든 발생 일정 제목 변경 | PASS |
| 5B-6 | 전체 수정 - 반복주기 | "전체 수정" → 반복 주기/간격 변경 → 저장 | 변경된 주기로 재생성 | - |
| 5B-7 | 전체 수정 - 종료일 | "전체 수정" → 반복 종료일 연장 → 저장 | 연장된 날짜까지 일정 표시 | - |
| 5B-8 | 이번만 수정 후 원본 확인 | 이번만 수정 후 다른 날짜의 같은 반복일정 클릭 | 원본 제목/시간 유지 | PASS |
| 5B-9 | 수정 폼 반복 체크박스 표시 | 반복 일정 수정 폼 확인 | "반복 일정" 체크박스 표시 (이번만 수정 시 disabled, 전체 수정 시 활성) | - |
| 5B-10 | 수정 후 모달 동작 | 수정 저장 후 동작 확인 | 항상 모달 닫히고 캘린더 새로고침 (이번만/전체 무관) | - |

### 5-C. 반복 일정 삭제

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 5C-1 | 삭제 다이얼로그 표시 | 반복 일정 클릭 → 삭제 버튼 | "이 일정만 삭제" / "반복일정 전체 삭제" 선택 다이얼로그 | PASS |
| 5C-2 | 이번만 삭제 | "이 일정만 삭제" 선택 | 해당 날짜만 캘린더에서 제거, 나머지 유지 | PASS |
| 5C-3 | 이번만 삭제 후 확인 | 삭제된 날짜 확인 | 해당 날짜에 일정 없음, 다음 발생일에는 표시 | PASS |
| 5C-4 | 전체 삭제 | "반복일정 전체 삭제" 선택 | 모든 발생 일정 캘린더에서 제거 | PASS |
| 5C-5 | 전체 삭제 후 확인 | 다음 달까지 확인 | 어떤 날짜에도 해당 반복 일정 없음 | PASS |

### 5-D. 반복 일정 완료

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 5D-1 | 완료 다이얼로그 표시 | 반복 일정 클릭 → 완료 버튼 | "이번 일정만 완료" / "반복 일정 전체 완료" 선택 다이얼로그 | PASS |
| 5D-2 | 이번만 완료 | "이번 일정만 완료" 선택 | 해당 날짜 DONE (녹색), 나머지 PENDING | PASS |
| 5D-3 | 이번만 완료 후 확인 | 완료된 일정 상세 확인 | 상태 "완료", "완료 취소" 버튼 표시 | PASS |
| 5D-4 | 이번만 완료 취소 | 완료된 예외 이벤트 → 완료 취소 버튼 | PENDING 복귀 | PASS |
| 5D-5 | 전체 완료 | "반복 일정 전체 완료" 선택 | 모든 발생 일정 DONE | PASS |
| 5D-6 | 전체 완료 후 확인 | 다른 날짜의 같은 반복일정 확인 | 모두 "완료" 상태 | PASS (주의: 예외이벤트에서 실행 시 시리즈 미전파) |

### 5-E. 복합 시나리오

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 5E-1 | 이번만 수정 후 전체 삭제 | 하나 수정 → 이후 전체 삭제 | 시리즈 + 수정된 예외 모두 삭제 | PASS (CASCADE 삭제 정상) |
| 5E-2 | 이번만 완료 후 전체 완료 | 하나 완료 → 이후 전체 완료 | 기존 완료 유지 + 나머지도 모두 DONE | PASS (시리즈 이벤트에서 실행 시) |
| 5E-3 | 공유 + 반복 조합 | 반복 일정에 처/실 공유 추가하여 생성 | 모든 발생 일정에 공유 적용 | - |
| 5E-4 | 수정 후 상세 정보 일치 | 이번만 수정 후 해당 일정 상세 조회 | 수정된 내용 정확히 표시 (시간, 제목, 내용) | PASS |

---

## 6단계: 일정 공유 (처/실 공유)

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 6-1 | 공유 UI 표시 | 일정 생성 모달에서 "일정 공유" 드롭다운 확인 | 같은 본부 소속 처/실 목록 표시 | PASS (20개 처/실 표시) |
| 6-2 | 처/실 선택 | 드롭다운에서 체크박스로 다중 선택 | 선택된 처/실 태그 표시, 개수 메시지 갱신 | PASS |
| 6-3 | 공유 일정 생성 | 2개 이상 처/실 선택 후 일정 저장 | 생성 성공 | PASS |
| 6-4 | 공유 확인 | 상세 모달에서 공유된 처/실 목록 확인 | Users 아이콘과 공유 처/실 이름 표시 | PASS ("공유: 전력사업처, 전력관리처") |
| 6-5 | 타 처/실 조회 | 다른 처/실 소속 계정으로 로그인 → 공유 일정 확인 | 공유된 일정이 캘린더에 표시 | PASS (전력사업처 사용자가 공유일정 확인) |
| 6-6 | 공유 일정 수정 시 처 유지 | 공유된 일정 수정 → 저장 | 공유 처/실 설정 유지 | - |
| 6-7 | 이번만 수정 시 공유 복사 | 반복 공유 일정 "이번만 수정" | 시리즈 공유 처가 예외 이벤트로 복사됨 | - |

---

## 7단계: 알림 기능

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 7-1 | 알림 벨 표시 | 헤더 벨 아이콘 확인 | 벨 아이콘 표시, 읽지않은 알림 있으면 빨간 뱃지 | PASS |
| 7-2 | 알림 목록 조회 | 벨 아이콘 클릭 | 알림 모달: 전체/읽지않음 탭, 알림 목록 | PASS |
| 7-3 | 일정 완료 알림 | 일정 완료 처리 후 알림 확인 | EVENT_COMPLETED 타입 알림 생성 | PASS |
| 7-4 | 일정 수정 알림 | 일정 수정 후 알림 확인 | EVENT_UPDATED 타입 알림 생성 | PASS |
| 7-5 | 알림 읽음 처리 | 알림 항목 클릭 | 파란 점 사라짐, 읽지않음 수 감소 | PASS |
| 7-6 | 전체 읽음 | "모두 읽음 처리" 버튼 클릭 | 모든 알림 읽음, 뱃지 사라짐 | PASS |
| 7-7 | 필터 동작 | "읽지않음" 탭 클릭 | 읽지 않은 알림만 표시 | PASS |
| 7-8 | 알림 삭제 | 알림 항목 삭제 버튼 클릭 | 알림 목록에서 제거 | - |
| 7-9 | 알림 뱃지 99+ | 100개 이상 읽지 않은 알림 | 뱃지에 "99+" 표시 | - |
| 7-10 | 자동 폴링 | 60초 대기 후 확인 | NotificationContext가 unread-count 자동 갱신 | - |
| 7-11 | 리마인더 알림 | 24시간 이내 시작 일정 존재 시 Cron 실행 | EVENT_REMINDER 알림 자동 생성 (48시간 내 중복 방지) | - |

---

## 8단계: 일정 목록 필터

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 8-1 | 전체 보기 | 하단 일정 목록 "전체" 탭 | 선택일/월 전체 일정 | PASS (59개 전체 표시) |
| 8-2 | 진행중 필터 | "진행중" 탭 클릭 | PENDING 상태만 표시 | PASS |
| 8-3 | 완료 필터 | "완료" 탭 클릭 | DONE 상태만 표시 | PASS (3개 완료) |
| 8-4 | 지연 필터 | "지연" 탭 클릭 | 마감 지난 PENDING 일정만 표시 (빨간색) | PASS (7개 지연) |
| 8-5 | 월간 보기 전환 | "전체 보기" 버튼 | 선택 날짜 해제, 이번 달 전체 일정 표시 | PASS |
| 8-6 | 더보기 기능 | 일정 목록에서 "더보기" 클릭 | 추가 일정 로드 | - |
| 8-7 | 날짜별 일정 목록 | 캘린더에서 특정 날짜 클릭 후 하단 목록 확인 | 해당 날짜 일정만 표시 | - |

---

## 9단계: 관리자 기능 (admin 계정)

### 9-A. 사용자 관리 & 승인

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 9A-1 | 관리자 페이지 접근 | 헤더 방패 아이콘 클릭 | 관리자 페이지 (사용자 관리 탭) | |
| 9A-2 | 사용자 목록 | 사용자 관리 탭 확인 | 전체 사용자 목록 (테이블), 상태 컬럼에 "활성"/"승인 대기"/"비활성" 표시 | PASS |
| 9A-3 | 사용자 검색 | 검색창에 이름/이메일 입력 | 검색결과 필터링 | - |
| 9A-4 | 역할 필터 | 역할 드롭다운 변경 | 해당 역할 사용자만 표시 | - |
| 9A-5 | 상태 필터 - 승인 대기 | 상태 드롭다운 "승인 대기" 선택 | `is_active=false AND approved_at=NULL`인 사용자만 표시 (주황색 뱃지) | PASS |
| 9A-6 | 상태 필터 - 비활성 | 상태 드롭다운 "비활성" 선택 | `is_active=false AND approved_at≠NULL`인 사용자만 표시 (빨간색 뱃지) | - |
| 9A-7 | 사용자 승인 | 승인 대기 사용자의 체크 아이콘(UserCheck) 클릭 | `PATCH /users/:id/approve` → 사용자 활성화 (is_active=true, approved_at=NOW()) | PASS |
| 9A-8 | 승인 후 로그인 확인 | 승인된 사용자로 로그인 | 로그인 성공, 캘린더 표시 | PASS |
| 9A-9 | 승인 시 사용자 알림 | 승인 후 해당 사용자 로그인 → 알림 확인 | ACCOUNT_APPROVED 알림: "관리자가 계정을 승인했습니다." | PASS |
| 9A-10 | 사용자 상세 수정 | 수정 버튼 → 역할/정보 변경 → 저장 | 변경사항 반영 | - |
| 9A-11 | 활성화/비활성화 토글 | 토글 버튼 클릭 | 상태 전환 (활성화 시 approved_at 자동 설정) | - |
| 9A-12 | 사용자 삭제 | 삭제 버튼 → 확인 | 사용자 제거 | - |
| 9A-13 | 직급→역할 자동매핑 | 사용자 상세에서 직급 변경 | 부장이상 → DEPT_LEAD, 차장이하 → USER 자동 매핑 | - |
| 9A-14 | 페이징 | 사용자 목록에서 페이지 이동 | 페이지 전환 정상 | - |

### 9-B. 조직 관리

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 9B-1 | 조직 트리 표시 | 조직 관리 탭 클릭 | 본부→처/실→부서 트리 구조 | |
| 9B-2 | 트리 확장/축소 | 화살표 클릭 | 하위 조직 펼침/접기 | |
| 9B-3 | 부서 추가 | 처/실 노드 "추가" → 이름 입력 → 저장 | 새 부서 트리에 표시 | |
| 9B-4 | 조직 이름 수정 | 수정 버튼 → 이름 변경 → 저장 | 이름 변경 반영 | |
| 9B-5 | 조직 삭제 | 빈 조직 삭제 시도 | 삭제 성공 | |
| 9B-6 | 소속원 있는 조직 삭제 | 소속 사용자 있는 조직 삭제 시도 | 삭제 거부 에러 메시지 (HAS_USERS) | |
| 9B-7 | 중복 이름 조직 생성 | 동일 레벨에서 같은 이름 조직 생성 시도 | DUPLICATE_NAME 에러 | - |

### 9-C. 시스템 설정

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 9C-1 | 설정 조회 | 시스템 설정 탭 클릭 | 6개 설정 항목 표시 | |
| 9C-2 | 설정 변경 | 마감임박 기준시간 변경 → 저장 | 성공 메시지, 변경 반영 | |
| 9C-3 | 설정 초기화 | 리셋 버튼 클릭 | 원래 값으로 복원 | |

---

## 10단계: 권한별 접근 제어

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 10-1 | USER 권한 | 일반 사용자 로그인 → 같은 부서 일정만 보이는지 확인 | 타 부서 일정 미표시, 관리자 아이콘 미표시 | PASS (USER 57개 vs ADMIN 59개, 관리자 아이콘 없음) |
| 10-2 | USER 수정 권한 | 타인 일정 상세 → 수정/삭제 버튼 확인 | 본인 일정만 수정 가능, 타인은 읽기 전용 | PASS ("조회 전용" 뱃지, 수정/삭제 버튼 없음) |
| 10-3 | ADMIN 전체 조회 | 관리자 로그인 → 모든 부서 일정 확인 | 모든 일정 조회 가능 | PASS (59개 전체 + 관리자 아이콘) |
| 10-4 | ADMIN 타인 수정 | 관리자가 타인 일정 수정/삭제 | 가능 | PASS (타부서사원 일정에 완료/수정/삭제 버튼 표시) |
| 10-5 | 비로그인 접근 | 로그아웃 상태에서 직접 URL 접근 | 로그인 페이지로 리다이렉트 | PASS (로그인 페이지 표시 + API 401 AUTH_003) |
| 10-6 | DEPT_LEAD(DEPARTMENT) | 부서장 로그인 → 같은 부서 일정 확인 | 소속 부서 일정만 조회 가능 | - |
| 10-7 | DEPT_LEAD(OFFICE) | 처장 로그인 → 같은 처 일정 확인 | 소속 처 전체 부서 일정 조회 가능 | - |
| 10-8 | DEPT_LEAD(DIVISION) | 본부장 로그인 → 같은 본부 일정 확인 | 소속 본부 전체 일정 조회 가능 | - |
| 10-9 | 공유 일정 접근 | USER 계정으로 타 처에서 공유한 일정 확인 | 공유 설정된 일정만 추가 표시 | - |

---

## 11단계: 반응형 & UI/UX

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 11-1 | 모바일 레이아웃 | 브라우저 폭 줄이기 또는 모바일 에뮬레이션 | 캘린더 축소 표시, 헤더 아이콘 배치 정상 | PASS (375px/768px 모두 정상 적응) |
| 11-2 | 다크모드 전체 | 다크모드에서 모든 페이지 순회 | 배경/텍스트/입력창 다크테마 일관성 | PASS (캘린더/목록/모달 모두 다크테마 일관) |
| 11-3 | 모달 닫기 | 모달 외부 클릭 또는 X 버튼 | 모달 정상 닫힘 | PASS |
| 11-4 | 중복 클릭 방지 | 일정 생성 버튼 빠르게 연타 | 단일 요청만 발생 (중복 생성 방지) | PASS (3회 빠른 클릭 → API 1회만 호출, actionGuard 정상) |
| 11-5 | 모바일 헤더 타이틀 | 375px에서 일반 사용자 로그인 후 헤더 확인 | "업무일정 관리" 한 줄 표시, 아이콘 잘림 없음 | PASS (일반계정 1줄, admin은 방패버튼 추가로 2줄 가능) |
| 11-6 | 캘린더 일정 셀 오버플로우 | 375px에서 일정 있는 날짜 셀 확인 | 일정 칩이 셀 영역 내에서 잘려서 표시 (ellipsis), 인접 셀 침범 없음 | PASS (overflow:hidden + maxWidth:100% 적용) |
| 11-7 | 미사용 햄버거 메뉴 제거 확인 | 모바일에서 헤더 좌측 확인 | 캘린더 아이콘 + "업무일정 관리" 텍스트만 표시 (햄버거 메뉴 없음) | PASS (dead code 제거됨) |
| 11-8 | ESC 키 모달 닫기 | 모달 열린 상태에서 ESC 키 누름 | 모달 닫힘 | - |
| 11-9 | 라이트모드 전환 | 라이트모드에서 캘린더/목록/모달/관리자 페이지 확인 | 밝은 테마 일관 적용 | - |
| 11-10 | Skeleton 로딩 | 느린 네트워크에서 페이지 로드 | Skeleton 플레이스홀더 표시 후 콘텐츠 전환 | - |
| 11-11 | 비밀번호 보기/숨기기 | 로그인/회원가입 비밀번호 필드 눈 아이콘 클릭 | 비밀번호 표시/숨김 토글 | - |
| 11-12 | 타인 일정 색상 | 타인이 만든 일정의 캘린더 바 확인 | 회색 바 + 작성자명 표시 | - |

---

## 12단계: 내 정보 수정 (프로필)

### 12-A. 프로필 페이지 접근

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 12A-1 | PC 헤더에서 접근 | 헤더 우측 사용자 정보 영역 클릭 | 내 정보 수정 페이지로 이동 (hover 시 배경색 변경) | PASS |
| 12A-2 | 모바일에서 접근 | 모바일 뷰에서 헤더 User 아이콘 클릭 | 내 정보 수정 페이지로 이동 | - |
| 12A-3 | 돌아가기 | "돌아가기" 버튼 클릭 | 캘린더 페이지로 복귀 | PASS |
| 12A-4 | 현재 정보 표시 | 프로필 페이지 상단 확인 | 이메일 (읽기전용), 역할 (읽기전용) 표시 | PASS |
| 12A-5 | 폼 초기값 | 기본 정보 폼 확인 | 현재 이름/직급/본부/처/부서가 자동 채워져 있음 | PASS (참고: 드롭다운에 없는 직급은 "선택"으로 표시) |

### 12-B. 기본 정보 수정

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 12B-1 | 이름 변경 | 이름 수정 → 저장 | 성공 메시지, 헤더 이름 즉시 반영 | - |
| 12B-2 | 직급 변경 | 직급 드롭다운 변경 → 저장 | 성공 메시지, 헤더 직급 반영 | PASS (부장으로 변경, 헤더 즉시 반영) |
| 12B-3 | 소속 변경 | 본부→처→부서 순서대로 변경 → 저장 | 성공 메시지, 헤더 소속 정보 반영 | - |
| 12B-4 | 조직 드롭다운 연동 | 본부 변경 시 처 목록 갱신, 처 변경 시 부서 목록 갱신 | 계층형 연동 정상 동작 | PASS |
| 12B-5 | 부서 없는 처 | 지사(하위 부서 없음) 선택 후 저장 | department=null로 정상 저장 | - |
| 12B-6 | 필수값 누락 | 이름 비우고 저장 시도 | 유효성 검증 에러 | - |

### 12-C. 비밀번호 변경

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 12C-1 | 비밀번호 변경 성공 | 현재 비밀번호 + 새 비밀번호 입력 → 변경 | 성공 메시지, 폼 초기화 | PASS |
| 12C-2 | 변경 후 로그인 | 로그아웃 → 새 비밀번호로 로그인 | 로그인 성공 | PASS |
| 12C-3 | 이전 비밀번호 거부 | 로그아웃 → 이전 비밀번호로 로그인 시도 | "이메일 또는 비밀번호가 올바르지 않습니다." | PASS |
| 12C-4 | 현재 비밀번호 오류 | 잘못된 현재 비밀번호 입력 → 변경 시도 | "현재 비밀번호가 올바르지 않습니다." 에러 | PASS |
| 12C-5 | 새 비밀번호 유효성 | 8자 미만 / 영문만 / 숫자만 입력 → 변경 시도 | 유효성 에러 메시지 | PASS |
| 12C-6 | 비밀번호 확인 불일치 | 새 비밀번호 != 확인 상태에서 변경 시도 | "비밀번호가 일치하지 않습니다." 실시간 표시 | PASS |

---

## 13단계: 캘린더 그리드 레인 시스템

### 13-A. 유연 레인 배치 (멀티데이 우선)

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 13A-1 | 멀티데이 바 표시 | 2일 이상 걸치는 일정 생성 → 캘린더 확인 | 가로로 늘어난 바가 해당 날짜 범위에 표시 | PASS |
| 13A-2 | 멀티데이 레인 할당 | 같은 주에 2개 이상 멀티데이 일정 생성 | 서로 다른 레인에 겹치지 않게 배치 | PASS |
| 13A-3 | 단일 일정 빈 레인 채움 | 멀티데이 바가 있는 주에서 단일 일정이 있는 날짜 확인 | 멀티데이 바가 없는 빈 레인에 단일 일정 절대 위치로 표시 | PASS |
| 13A-4 | 빈 레인 없는 날짜 | 5개 레인이 모두 멀티데이로 차있는 날짜에 단일 일정 확인 | +n 오버플로우 표시 | - |
| 13A-5 | 멀티데이 없는 날짜 | 멀티데이 바가 없는 날짜에 단일 일정 확인 | 5개 레인 전체를 단일 일정이 사용 (빈 레인 활용) | PASS |
| 13A-6 | +n 오버플로우 정확성 | 레인 초과 일정이 있는 셀 확인 | 숨겨진 멀티데이 + 빈 레인 부족 단일 일정의 합계 표시 | PASS |
| 13A-7 | 일정 바 클릭 | 캘린더 레인의 일정 바 클릭 | 일정 상세 모달 열림 | - |

### 13-B. PC/모바일 레인 수

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 13B-1 | PC 레인 수 | 데스크톱(769px+)에서 캘린더 확인 | 최대 5개 레인 표시 | PASS |
| 13B-2 | 모바일 레인 수 | 모바일(768px-)에서 캘린더 확인 | 최대 3개 레인 표시 | PASS |
| 13B-3 | PC 일정 바 높이 | PC에서 일정 바 크기 확인 | 20px 높이, 11px 폰트 | - |
| 13B-4 | 모바일 일정 바 높이 | 모바일에서 일정 바 크기 확인 | 18px 높이, 10px 폰트 | - |

### 13-C. 일정 바 스타일

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 13C-1 | 본인 PENDING 일정 | 본인이 만든 진행중 일정 바 확인 | 파란색 계열 바 (borderLeft 포함) | - |
| 13C-2 | 본인 DONE 일정 | 본인이 만든 완료 일정 바 확인 | 초록색 계열 바 | - |
| 13C-3 | 본인 지연 일정 | 마감 지난 PENDING 일정 바 확인 | 빨간색 계열 바 | - |
| 13C-4 | 타인 일정 | 타인이 만든 일정 바 확인 | 회색 바 + 작성자명 suffix | - |
| 13C-5 | 다크모드 바 색상 | 다크모드에서 일정 바 확인 | 바 배경 투명도 조정 (35% opacity) | - |
| 13C-6 | 라이트모드 바 색상 | 라이트모드에서 일정 바 확인 | 바 배경 투명도 조정 (28% opacity) | - |
| 13C-7 | 긴 제목 말줄임 | 제목이 긴 일정의 바 확인 | text-overflow: ellipsis 적용 | - |

---

## 14단계: Rate Limiting & 입력 검증

### 14-A. Rate Limiting (서버)

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 14A-1 | 로그인 Rate Limit | 15분 내 11회 이상 로그인 시도 | 11번째부터 429 Too Many Requests | - |
| 14A-2 | 인증 API Rate Limit | 15분 내 설정값(기본 100) 초과 인증 API 호출 | 429 응답 | - |
| 14A-3 | 일정 API Rate Limit | 30초 내 101회 이상 일정 API 호출 | 429 응답 | - |
| 14A-4 | Rate Limit 해제 후 | 30초 경과 후 재시도 | 정상 응답 | - |

### 14-B. Rate Limit 카운트다운 (모달 내 UX)

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 14B-1 | 상세 모달 카운트다운 | 일정 상세에서 빠른 반복 작업으로 Rate Limit 유발 | 에러 영역에 "요청이 너무 많습니다. 잠시 후 다시 시도해주세요." + 30초 카운트다운 배지 표시 | - |
| 14B-2 | 카운트다운 감소 | 카운트다운 배너 표시 후 1초마다 확인 | 30→29→28...→1→0 순서로 감소, 0 도달 시 배너 사라짐 | - |
| 14B-3 | 다른 일정 열기 시 유지 | 카운트다운 중 모달 닫고 다른 일정 상세 열기 | 새 모달에서도 카운트다운 배너 계속 표시 (남은 시간 유지) | - |
| 14B-4 | 새 일정 모달 카운트다운 | 카운트다운 중 "+" 버튼으로 새 일정 모달 열기 | 새 일정 모달에서도 카운트다운 배너 표시 | - |
| 14B-5 | 수정 모드 카운트다운 | 카운트다운 중 일정 수정 폼 확인 | EventEditForm에서도 동일한 카운트다운 배너 표시 | - |
| 14B-6 | 완료 처리 Rate Limit | 일정 완료/완료취소 시 Rate Limit 발생 | "상태 변경에 실패했습니다" 대신 카운트다운 배너 표시 | - |
| 14B-7 | 삭제 Rate Limit | 일정 삭제 시 Rate Limit 발생 | 카운트다운 배너 표시, 모달 닫히지 않음 | - |
| 14B-8 | 일정 생성 Rate Limit | 새 일정 생성 시 Rate Limit 발생 | EventModal에 카운트다운 배너 표시 | - |
| 14B-9 | loadEvents 자동 재시도 | 캘린더 로드 시 Rate Limit 발생 | 30초 후 자동으로 loadEvents 재시도 | - |
| 14B-10 | 카운트다운 중 정상 응답 | 카운트다운 진행 중 Rate Limit 해제 후 API 호출 성공 | 카운트다운 0으로 리셋, 배너 사라짐 | - |

### 14-C. 프론트엔드 입력 검증

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 14C-1 | 일정 제목 필수 | 제목 없이 일정 생성 시도 | "제목을 입력해주세요" 프론트엔드 에러 | - |
| 14C-2 | 일정 시작일 필수 | 시작일 없이 일정 생성 시도 | "시작일을 선택해주세요" 에러 | - |
| 14C-3 | 시간 범위 검증 | 종료시간 < 시작시간 입력 | "종료 시간은 시작 시간 이후여야 합니다" 에러 | - |
| 14C-4 | 반복 종료일 검증 | 반복 종료일 < 시작일 입력 | "반복 종료일은 시작일 이후여야 합니다" 에러 | - |
| 14C-5 | 회원가입 이메일 형식 | 잘못된 이메일 형식 입력 | 프론트엔드 유효성 에러 | - |
| 14C-6 | 비밀번호 실시간 검증 | 비밀번호 입력 중 규칙 충족 여부 확인 | 영문+숫자 조합 8자 이상 실시간 피드백 | - |

---

## 15단계: 댓글 기능

### 15-A. 댓글 API

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 15A-1 | 일정 댓글 조회 | `GET /api/v1/comments/events/:eventId` | 댓글 목록 (created_at ASC), v_comments_with_details 뷰 사용 | - |
| 15A-2 | 시리즈 댓글 조회 | `GET /api/v1/comments/series/:seriesId` | 시리즈 댓글 목록 | - |
| 15A-3 | 일정 댓글 작성 | `POST /api/v1/comments/events/:eventId` | 댓글 생성, 201 응답 | - |
| 15A-4 | 시리즈 댓글 작성 | `POST /api/v1/comments/series/:seriesId` | 시리즈에 댓글 생성 | - |
| 15A-5 | 댓글 수정 | `PUT /api/v1/comments/:id` (본인만) | 내용 변경, is_edited=true | - |
| 15A-6 | 댓글 삭제 | `DELETE /api/v1/comments/:id` (본인 또는 ADMIN) | 댓글 삭제 | - |
| 15A-7 | 타인 댓글 수정 시도 | 타인 댓글에 PUT 요청 | 403 COMMENT_002 권한 없음 | - |
| 15A-8 | 비조회 일정 댓글 | 조회 권한 없는 일정에 댓글 시도 | canViewEvent 검증으로 거부 | - |

### 15-B. 댓글 UI (인라인 섹션)

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 15B-1 | 댓글 섹션 표시 | 일정 상세 모달 → 스크롤 다운 | 구분선 아래에 💬 댓글 (N) 헤더 + 댓글 목록 + 입력 폼 표시 | - |
| 15B-2 | 빈 상태 | 댓글 없는 일정 상세 열기 | "아직 댓글이 없습니다." 빈 상태 표시 | - |
| 15B-3 | 댓글 작성 | 입력란에 텍스트 입력 → 전송 버튼 또는 Enter | 댓글 목록에 즉시 추가, 입력란 초기화 | - |
| 15B-4 | Shift+Enter 줄바꿈 | 입력란에서 Shift+Enter | 줄바꿈 삽입 (전송하지 않음) | - |
| 15B-5 | 댓글 수정 | 본인 댓글의 편집(✏️) 아이콘 클릭 | 인라인 textarea로 전환, 취소/저장 버튼 표시 | - |
| 15B-6 | 수정 저장 | 내용 변경 → 저장 클릭 | 댓글 갱신, (수정됨) 뱃지 표시 | - |
| 15B-7 | 수정 취소 | 수정 모드에서 취소 클릭 | 원래 내용으로 복원, 보기 모드 복귀 | - |
| 15B-8 | 댓글 삭제 | 삭제(🗑) 아이콘 클릭 → confirm 확인 | 댓글 목록에서 제거, 카운트 감소 | - |
| 15B-9 | ADMIN 타인 댓글 삭제 | ADMIN으로 타인 댓글 삭제 아이콘 클릭 | 삭제 가능 (본인 아닌 댓글도 삭제 아이콘 표시) | - |
| 15B-10 | 타인 댓글 권한 | 일반 사용자로 타인 댓글 확인 | 수정/삭제 아이콘 미표시 (읽기만 가능) | - |
| 15B-11 | 이니셜 아바타 | 댓글 작성자 아바타 확인 | 작성자 이름 첫 글자의 원형 아바타 (작성자별 다른 색상) | - |
| 15B-12 | 상대 시간 | 댓글 시간 표시 확인 | "방금 전", "5분 전", "2시간 전" 등 상대 시간 표시 | - |
| 15B-13 | 시리즈 이벤트 댓글 | series-* ID 일정의 댓글 작성/조회 | seriesId 자동 추출하여 시리즈 댓글 API 호출 | - |
| 15B-14 | 중복 클릭 방지 | 전송/저장/삭제 버튼 빠르게 연타 | useActionGuard로 단일 요청만 발생 | - |
| 15B-15 | 다크모드 스타일 | 다크모드에서 댓글 섹션 확인 | 카드 배경/테두리/텍스트 다크테마 일관 적용 | - |
| 15B-16 | 빈 입력 방지 | 빈 텍스트 또는 공백만 입력 후 전송 | 전송 버튼 비활성화 (disabled), 요청 미발생 | - |

### 15-C. 댓글 알림

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 15C-1 | 댓글 알림 생성 | 타인 일정에 댓글 작성 | 일정 작성자에게 EVENT_COMMENTED 알림: "'{일정제목}' 일정에 {댓글작성자}님이 댓글을 남겼습니다." | - |
| 15C-2 | 자기 댓글 알림 미발송 | 본인 일정에 본인이 댓글 작성 | 알림 미생성 (creator_id === req.user.id 체크) | - |
| 15C-3 | 알림 아이콘 표시 | 알림 모달에서 EVENT_COMMENTED 알림 확인 | MessageCircle 아이콘 + 파란색 배경 | - |
| 15C-4 | 시리즈 댓글 알림 | 시리즈 일정에 댓글 작성 | 시리즈 작성자에게 동일한 EVENT_COMMENTED 알림 | - |

### 15-D. EventList 댓글 카운트

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 15D-1 | 댓글 카운트 뱃지 | 댓글 있는 일정의 EventList 카드 확인 | 💬 N 형태의 파란색 뱃지 표시 (제목 옆) | - |
| 15D-2 | 댓글 없는 일정 | 댓글 없는 일정 카드 확인 | 댓글 뱃지 미표시 | - |
| 15D-3 | 댓글 추가 후 갱신 | 댓글 작성 → 모달 닫기 → EventList 확인 | commentCount 증가 반영 (캘린더 새로고침 시) | - |
| 15D-4 | 다크모드 뱃지 | 다크모드에서 댓글 뱃지 확인 | 진한 파란 배경 + 밝은 파란 텍스트 | - |

---

## 16단계: 부하 테스트 (Artillery)

> **파일 위치**: `load-tests/` (로컬) / `load-tests/production/` (프로덕션 URL)

| # | 시나리오 | 명령어 | 점검 포인트 | 결과 |
|---|---------|--------|-----------|------|
| 16-1 | 로그인 부하 | `npx artillery run load-tests/scenario1-login.yml` | bcrypt CPU 부하, 5→20→50 req/s, p95 < 2s | - |
| 16-2 | 반복 일정 조회 | `npx artillery run load-tests/scenario2-events-query.yml` | generateOccurrences 성능, 5→15→30 req/s | - |
| 16-3 | CRUD 동시 트랜잭션 | `npx artillery run load-tests/scenario3-crud.yml` | 생성→조회→수정→삭제 사이클, 3→10→20 req/s | - |
| 16-4 | 알림 폴링 | `npx artillery run load-tests/scenario4-notifications.yml` | 60 동시 사용자, 60초 간격 폴링 | - |

---

## 17단계: UI 애니메이션

### 17-A. 모달 닫기 애니메이션

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 17A-1 | 새 일정 모달 닫기 | "+" 버튼으로 모달 열기 → X 버튼 또는 외부 클릭 | 아래로 슬라이드 다운 애니메이션 후 닫힘 (300ms) | - |
| 17A-2 | 일정 상세 모달 닫기 | 일정 클릭으로 상세 모달 열기 → X 버튼 또는 외부 클릭 | 아래로 슬라이드 다운 애니메이션 후 닫힘 | - |
| 17A-3 | ESC 키 닫기 애니메이션 | 모달 열린 상태에서 ESC 키 | 슬라이드 다운 애니메이션 적용 | - |
| 17A-4 | 저장 후 닫기 | 일정 생성/수정 저장 후 | 애니메이션 없이 즉시 닫힘 (성공 케이스) | - |

### 17-B. PC 캘린더 월 이동 애니메이션

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 17B-1 | 다음 달 이동 | PC에서 ▶ 버튼 클릭 | 현재 월이 왼쪽으로 슬라이드 아웃 → 다음 월이 오른쪽에서 슬라이드 인 | - |
| 17B-2 | 이전 달 이동 | PC에서 ◀ 버튼 클릭 | 현재 월이 오른쪽으로 슬라이드 아웃 → 이전 월이 왼쪽에서 슬라이드 인 | - |
| 17B-3 | 모바일 월 이동 | 모바일에서 ◀/▶ 버튼 클릭 | PC와 동일한 슬라이드 애니메이션 | - |
| 17B-4 | TODAY 버튼 | 다른 월에서 TODAY 클릭 | 슬라이드 애니메이션 없이 즉시 이동 | - |

---

## 18단계: 알림 수신자 설정

### 18-A. 다중 선택 UI

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 18A-1 | 토글 버튼 표시 | 관리자 → 시스템 설정 → 알림 발송 설정 | 각 알림 타입별로 수신 대상이 토글 버튼으로 표시 (드롭다운 아님) | - |
| 18A-2 | 다중 선택 | "일정 완료" 알림의 수신 대상에서 여러 버튼 클릭 | 여러 대상 동시 선택 가능 (예: 작성자 + 처장/실장) | - |
| 18A-3 | 선택 해제 | 선택된 버튼 다시 클릭 | 해당 대상 선택 해제 (마지막 하나는 유지) | - |
| 18A-4 | 저장 후 확인 | 설정 저장 후 페이지 새로고침 | 저장된 다중 선택 값 그대로 표시 | - |

### 18-B. 상위관리자 직급별 분리

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 18B-1 | 직급별 버튼 표시 | 알림 발송 설정의 수신 대상 버튼 확인 | "부장", "처장/실장", "본부장" 버튼이 각각 분리되어 표시 | - |
| 18B-2 | 부장 알림 발송 | "일정 완료" 수신 대상을 "부장"만 선택 → 일정 완료 처리 | 같은 부서의 DEPT_LEAD (scope=DEPARTMENT)에게만 알림 | - |
| 18B-3 | 처장 알림 발송 | "일정 완료" 수신 대상을 "처장/실장"만 선택 → 일정 완료 처리 | 같은 처의 DEPT_LEAD (scope=OFFICE)에게만 알림 | - |
| 18B-4 | 본부장 알림 발송 | "일정 완료" 수신 대상을 "본부장"만 선택 → 일정 완료 처리 | 같은 본부의 DEPT_LEAD (scope=DIVISION)에게만 알림 | - |
| 18B-5 | 복합 선택 | "작성자" + "처장/실장" + "본부장" 선택 → 일정 완료 처리 | 작성자 + 처장 + 본부장 모두에게 알림 (중복 제거) | - |

### 18-C. 공유 일정 알림 (EVENT_SHARED)

| # | 점검항목 | 방법 | 예상결과 | 결과 |
|---|---------|------|---------|------|
| 18C-1 | 공유 일정 알림 타입 | 시스템 설정 → 알림 발송 설정 확인 | "공유 일정" 알림 타입이 목록에 표시 | - |
| 18C-2 | 공유 일정 알림 활성화 | "공유 일정" 활성화 토글 ON | 활성화 상태 저장 | - |
| 18C-3 | 공유 일정 생성 시 알림 | 처/실 공유 설정하여 일정 생성 | 공유된 처/실 소속 사용자에게 EVENT_SHARED 알림: '"{제목}" 일정이 공유되었습니다.' | - |
| 18C-4 | 공유 안 한 일정 | 공유 없이 일정 생성 | EVENT_SHARED 알림 미발송 | - |
| 18C-5 | 자기 처 공유 제외 | 본인 소속 처만 공유하여 일정 생성 | 본인 제외하고 같은 처 다른 사용자에게만 알림 | - |

---

## 발견된 버그 목록

| # | 심각도 | 항목 | 증상 | 원인 | 해결 여부 |
|---|--------|------|------|------|----------|
| BUG-001 | HIGH | 반복 일정 생성 실패 | "Failed to create event" 500 에러 | `event_series` 테이블에 `duration_days` 컬럼 누락 + `event_shared_offices` 테이블 미존재 | **해결** (DB 마이그레이션 적용) |
| BUG-002 | MEDIUM | 알림 unread-count 500 에러 | 콘솔에 `/api/v1/notifications/unread-count` 500 반복 | `notifications` 테이블이 프로덕션 DB에 미존재 | **해결** (DB 마이그레이션 적용) |
| BUG-003 | LOW | 예외이벤트에서 "전체 완료" 시 시리즈 미전파 | 예외 이벤트에서 "반복 일정 전체 완료" 실행 시 시리즈의 다른 가상 일정이 DONE으로 변경되지 않음 | 예외 이벤트의 전체 완료 처리가 원본 시리즈 status를 업데이트하지 않는 것으로 추정 | 미해결 |
| BUG-004 | LOW | 캘린더 단일 일정 +n 과다 표시 | 멀티데이 바가 없는 셀에서도 단일 일정이 +n으로 표시 | `remainingSlots`가 행 단위로 계산되어 셀별 빈 레인 미반영 | **해결** (유연 레인 배치 적용) |

---

## 필수 DB 마이그레이션

프로덕션 서버에 아래 마이그레이션이 적용되어야 합니다:

| 마이그레이션 파일 | 설명 | 적용 여부 |
|-----------------|------|----------|
| `database/migrations/add_notifications_table.sql` | 알림 테이블 생성 | 적용됨 |
| `database/migrations/add_event_shared_offices.sql` | 일정 공유 처/실 테이블 생성 | 적용됨 |
| `database/migrations/add_user_approval.sql` | 사용자 승인 기능 (approved_at 컬럼 + 뷰 재생성) | 적용됨 (init.sql에 통합) |

### add_user_approval.sql 주요 내용
```sql
-- 1. approved_at 컬럼 추가
ALTER TABLE users ADD COLUMN IF NOT EXISTS approved_at TIMESTAMP WITH TIME ZONE;
-- 2. 기존 사용자 전체를 승인 처리
UPDATE users SET approved_at = created_at WHERE approved_at IS NULL;
-- 3. v_users_with_org 뷰 재생성 (approved_at 포함)
```

---

## 점검 순서 권장

1. **1단계** → 서버 접속 확인
2. **2-1~2-2** → 관리자 로그인/로그아웃
3. **3단계** → 캘린더 기본 동작
4. **13단계** → 캘린더 그리드 레인 시스템 (유연 배치 확인)
5. **17단계** → UI 애니메이션 (모달 닫기, 월 이동 슬라이드)
6. **4단계** → 단일 일정 전체 CRUD (4-8~4-10: 단일→반복 변환 포함)
7. **5단계** → 반복 일정 (핵심 기능)
8. **6단계** → 일정 공유
9. **7단계** → 알림
10. **18단계** → 알림 수신자 설정 (다중 선택, 상위관리자 분리, 공유 일정 알림)
11. **2-3~2-11** → 회원가입 + 승인 워크플로우 (테스트 계정 생성 → 승인 대기 확인)
12. **9단계** → 관리자 기능 (9A-5~9A-9: 승인 워크플로우 점검)
13. **10단계** → 권한 테스트 (관리자 + 승인된 일반 사용자 2개 계정 활용)
14. **12단계** → 내 정보 수정 (프로필 변경 + 비밀번호 변경)
15. **8단계, 11단계** → 필터, UI
16. **14단계** → Rate Limiting & 입력 검증
17. **15단계** → 댓글 기능 (API + UI + 알림 + EventList 뱃지)
18. **16단계** → 부하 테스트 (선택)
